<!DOCTYPE html>

<html lang="ru">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Интерактивная схема скалодрома</title>
<script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore-compat.js"></script>
<script defer="" src="main.js"></script>
<style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    svg {
      max-width: 100%;
      height: auto;
      touch-action: manipulation;
    }
    #routeDetails {
      margin-top: 20px;
      padding: 10px;
      border: 1px solid #ccc;
      border-radius: 8px;
      max-width: 600px;
      background-color: #f9f9f9;
    }
    polygon:hover, path:hover, rect.active {
  fill: rgba(0, 255, 0, 0.25) !important;
  stroke: green !important;
  stroke-width: 3 !important;
}
rect:hover {
      fill-opacity: 0.5;
      stroke-width: 3;
      cursor: pointer;
    }
    #filters {
      margin-top: 20px;
      display: flex;
      gap: 20px;
      align-items: center;
      flex-wrap: wrap;
      justify-content: center;
    }
    #routeList {
      margin-top: 10px;
    }
    .hidden {
      display: none;
    }
    img.route-media, video.route-media {
      max-width: 100%;
      margin-top: 10px;
      border-radius: 8px;
    }
    iframe {
      margin-top: 30px;
      width: 100%;
      max-width: 600px;
      height: 600px;
      border: none;
    }
    button.log-button {
      margin-top: 10px;
      padding: 10px 20px;
      background-color: #007bff;
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
    }
    button.log-button:hover {
      background-color: #0056b3;
    }
    .log-count {
      margin-top: 8px;
      font-size: 0.9em;
      color: #555;
    }
    rect {
      transition: all 0.2s ease;
    }
    rect.active {
  fill: rgba(0, 255, 0, 0.25) !important;
  stroke: green !important;
  stroke-width: 3 !important;
}
rect:hover {
      fill-opacity: 0.35;
    }
  </style>
</head>
<body>
<h1>Схема скалодрома</h1>
<div id="filters">
<label for="sectorSelect">Сектор:</label>
<select id="sectorSelect" onchange="filterRoutes()">
<option value="all">Все</option>
</select>
<label for="difficultySelect">Сложность:</label>
<select id="difficultySelect" onchange="filterRoutes()">
<option value="all">Любая</option>
</select>
<label for="authorSelect">Автор:</label>
<select id="authorSelect" onchange="filterRoutes()">
<option value="all">Все</option>
</select>
<label for="dateSelect">Дата:</label>
<select id="dateSelect" onchange="filterRoutes()">
<option value="all">Все даты</option>
</select>
</div>
<svg height="800" viewbox="0 0 800 800" width="800">
<image height="800" width="800" x="0" xlink:href="map2-0.jpg" y="0"/>
<rect fill="rgba(255,0,0,0.15)" height="74" id="sector1" stroke="red" stroke-width="2" width="164" x="88" y="38"></rect>
<rect fill="rgba(255,0,0,0.15)" height="84" id="sector2" stroke="red" stroke-width="2" width="169" x="83" y="138"></rect>
<rect fill="rgba(255,0,0,0.15)" height="114" id="sector3" stroke="red" stroke-width="2" width="179" x="73" y="248"></rect>
<rect fill="rgba(255,0,0,0.15)" height="104" id="sector4" stroke="red" stroke-width="2" width="164" x="78" y="368"></rect>
<rect fill="rgba(255,0,0,0.15)" height="84" id="sector5" stroke="red" stroke-width="2" width="164" x="68" y="488"></rect>
<rect fill="rgba(255,0,0,0.15)" height="94" id="sector6" stroke="red" stroke-width="2" width="154" x="308" y="38"></rect>
<rect fill="rgba(255,0,0,0.15)" height="104" id="sector7" stroke="red" stroke-width="2" width="134" x="328" y="148"></rect>
<rect fill="rgba(255,0,0,0.15)" height="94" id="sector8" stroke="red" stroke-width="2" width="154" x="308" y="268"></rect>
<rect fill="rgba(255,0,0,0.15)" height="104" id="sector9" stroke="red" stroke-width="2" width="174" x="288" y="388"></rect>
<rect fill="rgba(255,0,0,0.15)" height="94" id="sector10" stroke="red" stroke-width="2" width="214" x="258" y="518"></rect>
</svg>
<div id="routeDetails">
<p>Загрузка данных из базы Firebase...</p>
</div>
</body>
</html>